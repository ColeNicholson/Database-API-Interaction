const userRouter = require('./user');
const coolerRouter = require('./cooler');
const caseRouter = require('./case');
const buildRouter = require('./build');
const BuildController = require('../controllers/BuildController');
//const CMSRouter = require('./case_motherboard_support');
const cpuRouter = require('./cpu.js');
const defaultRouter = require('koa-router')({
    prefix: '/api'
});

// How to get defualt route to call defaultBuild in BuildController Class?
buildRouter.get('/', ctx => {
    ctx.status = 200;
    ctx.body = BuildController.defaultBuild(ctx);
});

defaultRouter.use(
    userRouter.routes(),
    coolerRouter.routes(),
    caseRouter.routes(),
    buildRouter.routes(),
  //  CMSRouter.routes(),
    cpuRouter.routes()
);

//defaultRouter.get('/', ctx => buildRouter.defaultBuild);
//buildRouter.get('/', ctx => BuildController.defaultBuild);

module.exports = api => {
    api.use(defaultRouter.routes());
};
